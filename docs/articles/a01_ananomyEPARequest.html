<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Anatomy of an EPA API request • epair</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Anatomy of an EPA API request">
<meta property="og:description" content="Learn how pkgdown's automatic linking works, and how you can  customise it.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epair</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/epair.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a01_ananomyEPARequest.html">The Anatomy of an EPA API request</a>
    </li>
    <li>
      <a href="../articles/a02_ClarificationTerm.html">Clarification on terminology</a>
    </li>
    <li>
      <a href="../articles/a03_Installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/a04_setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/a05_making-your-first-call.html">Making your first call</a>
    </li>
    <li>
      <a href="../articles/a06_make-a-more-complex-call.html">Make a more complex call</a>
    </li>
    <li>
      <a href="../articles/a07_wrap-up.html">Summary</a>
    </li>
    <li>
      <a href="../articles/a08_Endpoints.html">Finding endpoints</a>
    </li>
    <li>
      <a href="../articles/a09_Services.html">Navigating API Services</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/GLOrozcoM/epair/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="a01_ananomyEPARequest_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Anatomy of an EPA API request</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/GLOrozcoM/epair/blob/master/vignettes/a01_ananomyEPARequest.Rmd"><code>vignettes/a01_ananomyEPARequest.Rmd</code></a></small>
      <div class="hidden name"><code>a01_ananomyEPARequest.Rmd</code></div>

    </div>

    
    
<p>Although we do not need to write out an entire API url request, knowing how API requests are built helps when using this package.</p>
<p>Each request comes in the form of a URL. A url usually starts with <code>https</code> or something similar and may look like this:</p>
<blockquote>
<p><a href="https://thewebsiteofinterest.com" class="uri">https://thewebsiteofinterest.com</a></p>
</blockquote>
<p>In this API, a user writes out a url and then places it in their browser or in an API service (much like this package) to retrieve data. In the case of the EPA API, all requests have up to four components:</p>
<ul>
<li>a base url</li>
<li>an endpoint</li>
<li>authentication</li>
<li>variables</li>
</ul>
<p>The base url consists of the website where the API is found. It looks like this:</p>
<blockquote>
<p><a href="https://aqs.epa.gov/data/api/" class="uri">https://aqs.epa.gov/data/api/</a></p>
</blockquote>
<p>An endpoint refers to the string coming right after the base url, and refers to the service the API gives. For example, the API can show a list of states and their respective codes to use when querying. The endpoint for this is the string <code>list/states?</code>. So, if we join this endpoint with the base, we get the following url:</p>
<blockquote>
<p><a href="https://aqs.epa.gov/data/api/list/states" class="uri">https://aqs.epa.gov/data/api/list/states</a>?</p>
</blockquote>
<p>To actually request data, a user needs to have registered a valid email and received an API key (to do so <a href="https://aqs.epa.gov/aqsweb/documents/data_api.html#signup">see here</a> ). This email and key go into an authentication string that gets appended to the url. To be able to query the url we showed above, we add our authentication. Now, our URL would look like this:</p>
<blockquote>
<p><a href="https://aqs.epa.gov/data/api/list/states?&amp;email=youremail@domain.com&amp;key=yourapikey" class="uri">https://aqs.epa.gov/data/api/list/states?&amp;email=youremail@domain.com&amp;key=yourapikey</a></p>
</blockquote>
<p>At this point, we can place the URL in the browser and retrieve data about states. Most data, however, will probably involve a particular pollutant in a desired region. In that case, we must also add additional items to the url string.</p>
<p>For example, suppose we wanted to get daily data values for ozone concentrations in the state of North Carolina. After determining the endpoint, which is <code>dailyData/byState?</code> , we need to add in a state, the beginning date, ending date for our data, and ozone. If we wrote out the entire call as URL, including authentication, we would have this:</p>
<blockquote>
<p><a href="https://aqs.epa.gov/data/api/dailyData/byState?&amp;email=youremail@domain.com&amp;key=yourapikey&amp;state=37&amp;bdate=20200101&amp;edate=20200102&amp;param=44201" class="uri">https://aqs.epa.gov/data/api/dailyData/byState?&amp;email=youremail@domain.com&amp;key=yourapikey&amp;state=37&amp;bdate=20200101&amp;edate=20200102&amp;param=44201</a></p>
</blockquote>
<p>It’s not hard to see that writing out these queries and placing them in a browser could get tedious. Additionally, you’ll notice that some additional items, like <code>state</code> require a specific code and figuring out the code can be difficult. This package aims to simplify these tasks by automating the making and placing of URL’s as well as helping the user determine the correct codes for specific items in the call.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by G.L. Orozco-Mulfinger, Madyline Lawrence, Owais Gilani.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
